name: "Delran Preschool Monitor (Ad-hoc Debug)"

on:
  workflow_dispatch:
    inputs:
      send_test:
        description: "Send a one-time test email first"
        required: false
        type: boolean
        default: false
      force_full_rescan:
        description: "Force full rescan (ignore state.json)"
        required: false
        type: boolean
        default: true
      debug_save_html:
        description: "Save fetched HTML in .debug/"
        required: false
        type: boolean
        default: true
      year:
        description: "Limit to a single year (e.g., 2023). Leave blank for all."
        required: false
        type: string
        default: ""
      max_boarddocs_files:
        description: "Cap BoardDocs discovery (recommend 200)"
        required: false
        type: number
        default: 200
      doc_delay_seconds:
        description: "Delay between document fetches"
        required: false
        type: string
        default: "1.5"

permissions:
  contents: write

jobs:
  debug:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v4

